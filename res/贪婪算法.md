#贪婪(Greedy)算法
[TOC]
##思想
>贪婪算法又叫登山法，根本思想是逐步到达山顶，即++逐步获得最优解++，是解决**最优问题**的一种简单但**使用范围有限的策略**。它**没有固定的算法框架，算法设计的关键是贪婪策略的选择**。

数据结构中的应用：赫夫曼树、构造最小生成树的Prim算法和Kruskal算法的决策过程;
对贪婪策略的适用性(一般从实际例子归纳)，更可靠的办法是：利用数学方法证明解决问题的贪婪策略满足`局部最优策略导致产生全局最优解`
###可绝对贪婪问题
**对于输入的任何数据，贪婪策略都是适用的**
**例19** 键盘输入一个高精度的正整数$n$，去掉其中任意$s$个数后剩下的数字按原左右次序将组成一个新的正整数。编程对给定的$n$和$s$，寻找一种方案使得剩下的数字组成的新数最小。
输出应包括所去掉的数字的位置和组成的新的正整数($n$不超过240位)。
+ `数据结构设计` 输入的高精度数存储为字符串格式；根据输出要求设置数组，在删除数字时记录其位置
+ `问题分析` 在位数固定的前提下，让高位的数字尽量小，其值就越小。怎样根据贪婪策略删除数字呢？总目标是删除高位较大的数字，具体地，**相邻两位比较，若高位比低位大则删除高位**
++进行算法设计时，从具体到抽象的**归纳一定要选取大量不同的实例**，充分了解和体会解决问题的过程、规律和各种不同情况，才能设计出正确的算法++
+ `算法设计1` 根据实例分析，算法主要由4部分组成：初始化、相邻数字比较(必要时删除)、处理比较过程中不够$s$位的情况和结果输出。

**例20数列极差问题** 在黑板上写了$n$个正整数排成的一个数列，进行如下操作：每次擦去其中两个数$a$和$b$，然后在数列中加入一个数$ab+1$，如此下去直至黑板上剩下一个数，在所有按这种操作方式最后得到的数中，最大的记作$max$，最小的记作$min$，则数列的极差定义为$m=max-min$
+ `问题分析` 选取最小的实例(3个数)体会题目中的描述的计算过程=>以3个数为例证明问题用贪心策略求解的合理性，不妨设3个数$a < b < c$，则它们可表示为：$b=a+k_1,c=a+k_1+k_2 且 k_1,k_2 > 0$，则有以下几种组合计算结果：
$$$
\begin{array}{rcl}
(ab+1)c+1 &=&a^3+(2k_1+k_2)a^2+(k_1(k_1+k_2)+1)a+k_1+k_2+1 \\
(ac+1)b+1 &=&a^3+(2k_1+k_2)a^2+(k_1(k_1+k_2)+1)a+k_1+1 \\
(bc+1)a+1 &=&a^3+(2k_1+k_2)a^2+(k_1(k_1+k_2)+1)a+1
\end{array}
$$$
+ `算法设计` 一个数自然地用它们的计算结果代替，另一个数用当前的最后一个数覆盖即可
+ `算法分析` 算法中的**主要操作**是比较查找和计算，计算是*线性的*，而比较操作接近$n^2$，因此算法的时间复杂度为$O(n^2)$

**例21构造类问题** 设计一个算法，把一个分数表示为埃及分数之和的形式。所谓埃及分数是指分子为1的分数。如$\frac78=\frac12+\frac13+\frac1{24}$
+ `问题分析` 如何用快速的方法找到一个用最少埃及分数表示一个真分数的表达式呢？过程如下：
	1. 找最小的$n$(也就是最大的埃及分数$\frac1n$)，使分数$f>\frac1n$
	2. 输出$\frac1n$
	3. 计算$f=f-\frac1n$
	4. 若此时的$f$是埃及分数，输出$f$，算法结束，否则返回1
**注意** 第3步不满足算法的**可行性**这个基本特点，因为*高级程序设计语言都不支持分数运算*。
+ `数学模型` 将一个真分数$F$表示为$\frac{A}B$，作$B\div{A}$的整除运算，商为$D$，余数为$K(0 < K < A)$，它们之间的关系及导出关系如下：
$$$
\begin{array}{rcl}
B=A \times D+K\\
\frac{B}A=D+\frac{K}A < D+1\\
\frac{A}B > \frac1{D+1}
\end{array}
$$$
记$C=D+1$，就找到了分数$F$包含的*最大的*埃及分数是$\frac1C$。进一步计算：$\frac{A}B-\frac1C=\frac{AC-B}{BC}$，也就是说继续解决的是有关分子为$A=AC-B$，分母为$B=BC$的子问题
+ `算法设计` 由以上数学模型，真正的算法过程如下：
	1. 设某个真分数的分子为$A(\not=1)$，分母为B
	2. 把B除以A的商加1后的值作为埃及分数的一个分母C
	3. 输出1/C
	4. 将A乘以C减去B作为新的A
	5. 将B乘以C作为新的B
	6. 如果A大于1且能整除B，则最后一个埃及分数的分母为B/A
	7. 如果A=1，则最后一个分母为B；否则转到步骤2

###相似或近似贪婪问题
**例22** 币种统计问题：某单位给每个职工发工资(精确到元)，为保证**避免临时兑换零钱**，且取款的张数最少，取工资前要统计出所有职工的工资所需各种币值(100,50,20,10,5,2,1元共7种)的张数，请编程完成。
`提示` 如果某国的币种为100,70,50,20,10,7,5,2,1则140用相同的贪婪策略得不到最优解；采用贪婪算法策略时，**最好能用数学方法证明每一步的策略是否能保证得到最优解**。
###贪婪策略下的算法框架
从问题的某一个初始解出发逐步逼近给定的目标，每一步都做一个不可回溯的决策，尽可能求得最优解。当到达某算法中的某一步不需要再继续前进时，算法停止。
```
从问题的某一初始解出发;
while(能朝给定总目标前进一步)
	利用可行的策略，求出可行解的一个解元素;
由所有解元素组合成问题的一个可行解
```
[数学公式实例参考](http://www.forkosh.com/mathtextutorial.html)
[数学公式常用摘要](http://www.mohu.org/info/symbols/symbols.htm)
[hadroop数学语法说明](http://docs.mathjax.org/en/latest/tex.html)